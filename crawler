import config.MainConfig;
import core.Constant;
import webObj.Page;

public  abstract  class Crawler implements Runnable {
	private Page page;
	private Constant constant;
	
	
    public abstract void process(Page page);
    
    @Override
	public void run() {
		process(page);	
	}
    
    public void setConfig(MainConfig config){
    	constant  = new Constant();
    	config.configConstant(constant);
    }
    
    public void start() {
    	
    	
    	for(int i=0;i<constant.getThreadNum();i++){
    		Crawler crawlerthis;
			try {
				
				crawlerthis = this.getClass().newInstance();
				Thread thread = new Thread(crawlerthis);  
	        	thread.start();  
				
			} catch (InstantiationException e) {
				
				e.printStackTrace();
			} catch (IllegalAccessException e) {
				
				e.printStackTrace();
			}
    		
    	}

	}
}
